<!DOCTYPE html>
<html>
	<head>
		<script src="../bower_components/q/q.min.js" type="text/javascript"></script>
		<script src="Worker-Promise.js" type="text/javascript"></script>
		<script type="text/javascript">
			var add = WorkerPromise(function (a, b) {
				var deferred = Q.defer();

				setTimeout(function () {
					deferred.resolve(a + b);
				}, 3000);

			    return deferred.promise;
			}, ['https://raw.github.com/kriskowal/q/master/q.js']);

			var promise = add(1, 2);

			promise.then(function (result) {
				alert(result);
			},
			function (err) {
				alert('Error: '+ err);
			});
		</script>
	</head>
	<body>

	</body>
</html>